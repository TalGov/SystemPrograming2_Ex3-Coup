# פרויקט משחק "קו" (Coup)

## חלק א': תיאור המשחק

"קו" (Coup) הוא משחק קופסה אסטרטגי 2-6 שחקנים. מטרת כל שחקן היא לחסל את כל יריביו ולהישאר האחרון במשחק.

### חוקי יסוד

בתחילת המשחק, כל שחקן מקבל תפקיד סודי (בפרויקט זה, התפקיד גלוי). במרכז השולחן יש קופה של מטבעות.
בכל תור, שחקן יכול לבצע אחת מהפעולות הבאות:

- **איסוף משאבים (gather):** קבלת מטבע אחד מהקופה.
- **מס (tax):** קבלת שני מטבעות מהקופה.
- **הפיכה (coup):** תשלום 7 מטבעות כדי לחסל שחקן אחר.
- **פעולות תפקיד:** כל תפקיד מאפשר לבצע פעולות ייחודיות או לחסום פעולות של אחרים.

שחקן שחוסל יוצא מהמשחק. השחקן האחרון שנשאר מנצח.

### תפקידים במשחק

- **נציב (Governor):** לוקח 3 מטבעות במס, ויכול לחסום "מס" של אחרים.
- **מרגל (Spy):** יכול לראות מטבעות של שחקן אחר ולבטל "מעצר".
- **ברון (Baron):** יכול "להשקיע" 3 מטבעות ולקבל 6. מקבל פיצוי על "חרם".
- **גנרל (General):** יכול לשלם 5 מטבעות כדי למנוע "הפיכה". מקבל פיצוי על "מעצר".
- **שופט (Judge):** יכול לבטל "שוחד". גורם לקנס על "חרם" נגדו.
- **סוחר (Merchant):** מקבל מטבע בונוס בתחילת תורו אם יש לו 3+ מטבעות. משלם קנס על "מעצר".

---

## חלק ב': מבנה הפרויקט והמחלקות

הפרויקט מאורגן במבנה תיקיות ברור כדי להפריד בין קבצי כותרת, קבצי מימוש, ובדיקות.

```
CoupGame/
├── include/
│   ├── Game.hpp
│   ├── Player.hpp
│   └── ... (כל שאר התפקידים)
├── src/
│   ├── Game.cpp
│   ├── Player.cpp
│   └── ... (כל שאר התפקידים)
├── test/
│   └── Test.cpp
├── Demo.cpp
└── Makefile
```

### תיאור המחלקות

<div dir="rtl" align="right">
<ul dir="rtl" align="right">
<li><code>Game</code>: המחלקה המרכזית שמנהלת את מצב המשחק, סדר התורות, רשימת השחקנים הפעילים, ותנאי הניצחון.</li>
<li><code>Player</code>: מחלקת הבסיס לכל שחקן. היא מכילה את המידע המשותף לכל השחקנים (שם, מטבעות, סטטוס) ואת הפעולות הכלליות.</li>
<li><code>Governor</code>, <code>General</code>, וכו': כל אחת ממחלקות אלו יורשת מ-<code>Player</code> ומממשת את היכולות הייחודיות של התפקיד הספציפי שלה, בעיקר על ידי דריסת פונקציות וירטואליות כמו <code>tax</code> או <code>undo</code>.</li>
</ul>
</div>

---

## חלק ג': הוראות בנייה והרצה

כדי לקמפל ולהריץ את הפרויקט, יש לעקוב אחר הצעדים הבאים.

### 1. התקנת תלויות

הפרויקט דורש קומפיילר C++ וספריית **SFML** עבור הממשק הגרפי.

#### התקנת קומפיילר


```bash
sudo apt-get update
sudo apt-get install build-essential
```

#### התקנת ספריית SFML


```bash
sudo apt-get install libsfml-dev
```

### 2. בניית הפרויקט

לאחר התקנת התלויות, נווט אל תיקיית השורש של הפרויקט והשתמש בפקודות הבאות של `make`.

- **`make` או `make all`**

  מקמפל את כל קבצי המשחק ויוצר את קובץ ההרצה הראשי `Main` הכולל את הממשק הגרפי.

  ```bash
  make
  ```

- **`make test`**

  מקמפל ומריץ את בדיקות היחידה שנמצאות בתיקיית `test/`.

  ```bash
  make test
  ```

- **`make clean`**

  מוחק את כל הקבצים שנוצרו בתהליך הקימפול (`Main`, `test`, ותיקיית `obj/`).

  ```bash
  make clean
  ```

### 3. הרצת הפרויקט

- **הרצת הדמו הגרפי:**

  לאחר הרצת `make`, ניתן להריץ את המשחק עם הפקודה:

  ```bash
  ./Main
  ```

- **בדיקת דליפות זיכרון עם Valgrind:**

  ה-`Makefile` כולל פקודה מובנית להרצת `valgrind`. שימו לב שדליפות המדווחות בגרסת ה-GUI הן לרוב תוצאה של ניהול זיכרון פנימי של ספריית SFML ואינן מעידות בהכרח על בעיה בקוד שלכם.

  ```bash
  make valgrind
  ```
